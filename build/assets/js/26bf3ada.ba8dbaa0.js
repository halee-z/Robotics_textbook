"use strict";(globalThis.webpackChunkeducational_ai_humanoid_robotics=globalThis.webpackChunkeducational_ai_humanoid_robotics||[]).push([[990],{8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var o=i(6540);const s={},r=o.createContext(s);function t(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),o.createElement(r.Provider,{value:n},e.children)}},9025:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"ros/nodes-topics-services","title":"Nodes, Topics, and Services in ROS 2","description":"Understanding ROS 2 Communication","source":"@site/docs/ros/nodes-topics-services.md","sourceDirName":"ros","slug":"/ros/nodes-topics-services","permalink":"/educational-ai-humanoid-robotics/docs/ros/nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/educational-ai-humanoid-robotics/educational-ai-humanoid-robotics.github.io/tree/main/packages/create-docusaurus/templates/shared/docs/ros/nodes-topics-services.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Fundamentals for Humanoid Robotics","permalink":"/educational-ai-humanoid-robotics/docs/ros/fundamentals"},"next":{"title":"ROS 2 Launch Files and Workspaces for Humanoid Robotics","permalink":"/educational-ai-humanoid-robotics/docs/ros/launch-files"}}');var s=i(4848),r=i(8453);const t={sidebar_position:3},a="Nodes, Topics, and Services in ROS 2",l={},c=[{value:"Understanding ROS 2 Communication",id:"understanding-ros-2-communication",level:2},{value:"Nodes in Humanoid Robotics",id:"nodes-in-humanoid-robotics",level:2},{value:"Sensor Processing Nodes",id:"sensor-processing-nodes",level:3},{value:"Control Nodes",id:"control-nodes",level:3},{value:"Perception Nodes",id:"perception-nodes",level:3},{value:"Planning Nodes",id:"planning-nodes",level:3},{value:"Topics for Humanoid Robots",id:"topics-for-humanoid-robots",level:2},{value:"Joint State Information",id:"joint-state-information",level:3},{value:"Transform Information",id:"transform-information",level:3},{value:"Actuator Commands",id:"actuator-commands",level:3},{value:"Sensor Data",id:"sensor-data",level:3},{value:"Robot Commands",id:"robot-commands",level:3},{value:"Services for Humanoid Robots",id:"services-for-humanoid-robots",level:2},{value:"System Configuration",id:"system-configuration",level:3},{value:"Robot Calibration",id:"robot-calibration",level:3},{value:"Control Services",id:"control-services",level:3},{value:"Actions for Humanoid Robots",id:"actions-for-humanoid-robots",level:2},{value:"Navigation",id:"navigation",level:3},{value:"Manipulation",id:"manipulation",level:3},{value:"Locomotion",id:"locomotion",level:3},{value:"Quality of Service (QoS) Considerations",id:"quality-of-service-qos-considerations",level:2},{value:"Best Practices for Humanoid Robots",id:"best-practices-for-humanoid-robots",level:2},{value:"Topic Design",id:"topic-design",level:3},{value:"Service Design",id:"service-design",level:3},{value:"Node Organization",id:"node-organization",level:3},{value:"Practical Exercise",id:"practical-exercise",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"nodes-topics-and-services-in-ros-2",children:"Nodes, Topics, and Services in ROS 2"})}),"\n",(0,s.jsx)(n.h2,{id:"understanding-ros-2-communication",children:"Understanding ROS 2 Communication"}),"\n",(0,s.jsx)(n.p,{children:"ROS 2 uses a distributed computing architecture where different processes (nodes) communicate with each other through a publish-subscribe pattern (topics), request-response pattern (services), and goal-oriented pattern (actions)."}),"\n",(0,s.jsx)(n.p,{children:"For humanoid robots, this communication architecture is crucial for coordinating:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Sensor data processing"}),"\n",(0,s.jsx)(n.li,{children:"Control command distribution"}),"\n",(0,s.jsx)(n.li,{children:"Perception systems"}),"\n",(0,s.jsx)(n.li,{children:"Planning and execution modules"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"nodes-in-humanoid-robotics",children:"Nodes in Humanoid Robotics"}),"\n",(0,s.jsx)(n.p,{children:"In ROS 2, a node is an executable that uses ROS 2 client libraries to communicate with other nodes. In humanoid robotics systems, common nodes include:"}),"\n",(0,s.jsx)(n.h3,{id:"sensor-processing-nodes",children:"Sensor Processing Nodes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Camera image processing"}),"\n",(0,s.jsx)(n.li,{children:"IMU data filtering"}),"\n",(0,s.jsx)(n.li,{children:"LIDAR point cloud processing"}),"\n",(0,s.jsx)(n.li,{children:"Joint position/velocity/effort monitoring"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"control-nodes",children:"Control Nodes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Walking pattern generation"}),"\n",(0,s.jsx)(n.li,{children:"Whole-body controllers"}),"\n",(0,s.jsx)(n.li,{children:"Trajectory execution"}),"\n",(0,s.jsx)(n.li,{children:"Balance maintenance"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"perception-nodes",children:"Perception Nodes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Object detection"}),"\n",(0,s.jsx)(n.li,{children:"Human detection"}),"\n",(0,s.jsx)(n.li,{children:"Environment mapping"}),"\n",(0,s.jsx)(n.li,{children:"Semantic segmentation"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"planning-nodes",children:"Planning Nodes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Path planning"}),"\n",(0,s.jsx)(n.li,{children:"Motion planning"}),"\n",(0,s.jsx)(n.li,{children:"Task planning"}),"\n",(0,s.jsx)(n.li,{children:"Grasp planning"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"topics-for-humanoid-robots",children:"Topics for Humanoid Robots"}),"\n",(0,s.jsx)(n.p,{children:"Topics are named buses over which nodes exchange messages. In humanoid robots, the following topics are commonly used:"}),"\n",(0,s.jsx)(n.h3,{id:"joint-state-information",children:"Joint State Information"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"/joint_states\n"})}),"\n",(0,s.jsx)(n.p,{children:"Publishes joint positions, velocities, and efforts for all joints. Used by the robot state publisher to generate transforms."}),"\n",(0,s.jsx)(n.h3,{id:"transform-information",children:"Transform Information"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"/tf\n/tf_static\n"})}),"\n",(0,s.jsx)(n.p,{children:"Publishes coordinate frame transforms. Essential for spatial relationships between different parts of the robot and between robot and environment."}),"\n",(0,s.jsx)(n.h3,{id:"actuator-commands",children:"Actuator Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"/joint_group_position_controller/commands\n/effort_controller/commands\n"})}),"\n",(0,s.jsx)(n.p,{children:"Sends commands to robot actuators to achieve desired positions, velocities, or efforts."}),"\n",(0,s.jsx)(n.h3,{id:"sensor-data",children:"Sensor Data"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"/camera/image_raw\n/imu/data\n/scan\n"})}),"\n",(0,s.jsx)(n.p,{children:"Provides raw sensor data that other nodes process for perception and control."}),"\n",(0,s.jsx)(n.h3,{id:"robot-commands",children:"Robot Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"/cmd_vel\n/joint_trajectory\n"})}),"\n",(0,s.jsx)(n.p,{children:"Accepts navigation or manipulation commands from higher-level controllers or user interfaces."}),"\n",(0,s.jsx)(n.h2,{id:"services-for-humanoid-robots",children:"Services for Humanoid Robots"}),"\n",(0,s.jsx)(n.p,{children:"Services provide a request-reply communication pattern. In humanoid robots, common services include:"}),"\n",(0,s.jsx)(n.h3,{id:"system-configuration",children:"System Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"set_parameters"}),": Dynamically configure node parameters"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"get_parameter_types"}),": Query parameter types"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"describe_parameters"}),": Get parameter descriptions"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"robot-calibration",children:"Robot Calibration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"calibrate_sensors"}),": Calibrate IMU, cameras, etc."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"zero_force_torque"}),": Zero force/torque sensors"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"find_joint_zero"}),": Find mechanical zero positions"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"control-services",children:"Control Services"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"start_trajectory"}),": Begin executing a trajectory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"stop_trajectory"}),": Stop current trajectory"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"set_control_mode"}),": Change controller operation mode"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"actions-for-humanoid-robots",children:"Actions for Humanoid Robots"}),"\n",(0,s.jsx)(n.p,{children:"Actions are a goal-based communication pattern suitable for long-running tasks:"}),"\n",(0,s.jsx)(n.h3,{id:"navigation",children:"Navigation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"move_base"}),": Navigate to a goal position"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"follow_waypoints"}),": Follow a sequence of waypoints"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"manipulation",children:"Manipulation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pick"}),": Execute a pick action"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"place"}),": Execute a place action"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"move_group"}),": Plan and execute arm movements"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"locomotion",children:"Locomotion"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"walk_to"}),": Navigate with walking gait"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"step"}),": Execute a single stepping motion"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"quality-of-service-qos-considerations",children:"Quality of Service (QoS) Considerations"}),"\n",(0,s.jsx)(n.p,{children:"For humanoid robots, proper QoS configuration is crucial for reliable operation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, QoSDurabilityPolicy, QoSHistoryPolicy, QoSReliabilityPolicy\n\n# For critical control data (must have delivery, low latency)\ncontrol_qos = QoSProfile(\n    history=QoSHistoryPolicy.RMW_QOS_HISTORY_KEEP_LAST,\n    depth=1,\n    reliability=QoSReliabilityPolicy.RMW_QOS_POLICY_RELIABILITY_RELIABLE,\n    durability=QoSDurabilityPolicy.RMW_QOS_POLICY_DURABILITY_VOLATILE\n)\n\n# For sensor data (can lose packets, need latest values)\nsensor_qos = QoSProfile(\n    history=QoSHistoryPolicy.RMW_QOS_HISTORY_KEEP_LAST,\n    depth=5,\n    reliability=QoSReliabilityPolicy.RMW_QOS_POLICY_RELIABILITY_BEST_EFFORT,\n    durability=QoSDurabilityPolicy.RMW_QOS_POLICY_DURABILITY_VOLATILE\n)\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices-for-humanoid-robots",children:"Best Practices for Humanoid Robots"}),"\n",(0,s.jsx)(n.h3,{id:"topic-design",children:"Topic Design"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use standard message types when possible"}),"\n",(0,s.jsx)(n.li,{children:"Consider message rate for real-time performance"}),"\n",(0,s.jsx)(n.li,{children:"Implement proper frame IDs for transforms"}),"\n",(0,s.jsx)(n.li,{children:"Use compressed topics for high-bandwidth data"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"service-design",children:"Service Design"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use services for state-changing operations"}),"\n",(0,s.jsx)(n.li,{children:"Implement proper error handling"}),"\n",(0,s.jsx)(n.li,{children:"Consider service timeouts"}),"\n",(0,s.jsx)(n.li,{children:"Document request and response formats"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"node-organization",children:"Node Organization"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Follow the principle of single responsibility"}),"\n",(0,s.jsx)(n.li,{children:"Organize nodes by function (perception, control, etc.)"}),"\n",(0,s.jsx)(n.li,{children:"Use launch files to coordinate multiple nodes"}),"\n",(0,s.jsx)(n.li,{children:"Implement proper shutdown procedures"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"practical-exercise",children:"Practical Exercise"}),"\n",(0,s.jsx)(n.p,{children:"Use the ROS 2 Specialist AI agent to explore:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"How would you design a node structure for a humanoid robot that needs to walk, avoid obstacles, and respond to voice commands?"}),"\n",(0,s.jsx)(n.li,{children:"What topics would you need for a humanoid robot performing a simple pick-and-place task?"}),"\n",(0,s.jsx)(n.li,{children:"How would you use ROS 2 tools to monitor the communication between nodes during robot operation?"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The next section will explore ROS 2 launch files and how to coordinate complex humanoid robot systems."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);