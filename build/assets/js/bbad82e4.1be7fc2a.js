"use strict";(globalThis.webpackChunkeducational_ai_humanoid_robotics=globalThis.webpackChunkeducational_ai_humanoid_robotics||[]).push([[141],{3413:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"ros/launch-files","title":"ROS 2 Launch Files and Workspaces for Humanoid Robotics","description":"Overview","source":"@site/docs/ros/launch-files.md","sourceDirName":"ros","slug":"/ros/launch-files","permalink":"/educational-ai-humanoid-robotics/docs/ros/launch-files","draft":false,"unlisted":false,"editUrl":"https://github.com/educational-ai-humanoid-robotics/educational-ai-humanoid-robotics.github.io/tree/main/packages/create-docusaurus/templates/shared/docs/ros/launch-files.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Nodes, Topics, and Services in ROS 2","permalink":"/educational-ai-humanoid-robotics/docs/ros/nodes-topics-services"},"next":{"title":"ROS 2 Packages and Workspaces for Humanoid Robotics","permalink":"/educational-ai-humanoid-robotics/docs/ros/packages-workspaces"}}');var i=o(4848),r=o(8453);const t={sidebar_position:4},s="ROS 2 Launch Files and Workspaces for Humanoid Robotics",c={},l=[{value:"Overview",id:"overview",level:2},{value:"ROS 2 Workspaces",id:"ros-2-workspaces",level:2},{value:"Workspace Structure",id:"workspace-structure",level:3},{value:"Creating a Workspace",id:"creating-a-workspace",level:3},{value:"Launch Files for Humanoid Robots",id:"launch-files-for-humanoid-robots",level:2},{value:"Python Launch Files",id:"python-launch-files",level:3},{value:"Launch Configuration Files",id:"launch-configuration-files",level:3},{value:"Complex Launch Scenarios for Humanoid Robots",id:"complex-launch-scenarios-for-humanoid-robots",level:2},{value:"Simulation Launch",id:"simulation-launch",level:3},{value:"Real Robot Launch",id:"real-robot-launch",level:3},{value:"Parameter Management",id:"parameter-management",level:2},{value:"Launch File Best Practices",id:"launch-file-best-practices",level:2},{value:"Organization",id:"organization",level:3},{value:"Parameter Handling",id:"parameter-handling",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Practical Exercise",id:"practical-exercise",level:2}];function u(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"ros-2-launch-files-and-workspaces-for-humanoid-robotics",children:"ROS 2 Launch Files and Workspaces for Humanoid Robotics"})}),"\n",(0,i.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(e.p,{children:"Launch files and workspaces are essential organizational tools in ROS 2 that enable the coordination of multiple nodes for complex humanoid robot systems. This section covers how to create and structure launch files and workspaces specifically for humanoid robotics applications."}),"\n",(0,i.jsx)(e.h2,{id:"ros-2-workspaces",children:"ROS 2 Workspaces"}),"\n",(0,i.jsx)(e.p,{children:"A ROS 2 workspace is a directory containing packages that are built and used together. For humanoid robotics, we typically organize workspaces to manage:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Robot-specific packages"}),"\n",(0,i.jsx)(e.li,{children:"Simulation packages"}),"\n",(0,i.jsx)(e.li,{children:"Perception packages"}),"\n",(0,i.jsx)(e.li,{children:"Control packages"}),"\n",(0,i.jsx)(e.li,{children:"Hardware interface packages"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"workspace-structure",children:"Workspace Structure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"humanoid_ws/                 # Root workspace directory\n\u251c\u2500\u2500 src/                     # Source code directory\n\u2502   \u251c\u2500\u2500 humanoid_bringup/    # Launch and configuration files\n\u2502   \u251c\u2500\u2500 humanoid_description # Robot URDF and mesh files\n\u2502   \u251c\u2500\u2500 humanoid_control/    # Controllers and control algorithms\n\u2502   \u251c\u2500\u2500 humanoid_perception/ # Perception algorithms\n\u2502   \u251c\u2500\u2500 humanoid_navigation/ # Navigation algorithms\n\u2502   \u2514\u2500\u2500 humanoid_sim/        # Simulation-specific packages\n"})}),"\n",(0,i.jsx)(e.h3,{id:"creating-a-workspace",children:"Creating a Workspace"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# Create the workspace directory\nmkdir -p ~/humanoid_ws/src\n\n# Navigate to the workspace\ncd ~/humanoid_ws\n\n# Build all packages in the workspace\ncolcon build --packages-select humanoid_description humanoid_control\n\n# Source the workspace\nsource install/setup.bash\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-files-for-humanoid-robots",children:"Launch Files for Humanoid Robots"}),"\n",(0,i.jsx)(e.p,{children:"Launch files use Python or XML to specify which nodes should be started together with what parameters. For humanoid robots, we often need to launch:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Robot state publisher"}),"\n",(0,i.jsx)(e.li,{children:"Joint state publisher"}),"\n",(0,i.jsx)(e.li,{children:"Control managers"}),"\n",(0,i.jsx)(e.li,{children:"Perception nodes"}),"\n",(0,i.jsx)(e.li,{children:"Simulation interfaces"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"python-launch-files",children:"Python Launch Files"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument, RegisterEventHandler\nfrom launch.conditions import IfCondition\nfrom launch.event_handlers import OnProcessExit\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nimport os\n\ndef generate_launch_description():\n    # Declare launch arguments\n    use_sim_time = LaunchConfiguration('use_sim_time', default='false')\n    robot_description_path = LaunchConfiguration(\n        'robot_description_path',\n        default=os.path.join(\n            get_package_share_directory('humanoid_description'),\n            'urdf',\n            'humanoid.urdf'\n        )\n    )\n\n    # Launch robot state publisher\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[\n            {'use_sim_time': use_sim_time},\n            {'robot_description': ParameterValue(robot_description_path, value_type=str)}\n        ]\n    )\n\n    # Launch joint state publisher (GUI for testing)\n    joint_state_publisher_gui = Node(\n        package='joint_state_publisher_gui',\n        executable='joint_state_publisher_gui',\n        condition=IfCondition(LaunchConfiguration('gui'))\n    )\n\n    # Launch controller manager\n    controller_manager = Node(\n        package='controller_manager',\n        executable='ros2_control_node',\n        parameters=[\n            robot_description_path,\n            os.path.join(\n                get_package_share_directory('humanoid_control'),\n                'config',\n                'controllers.yaml'\n            )\n        ],\n        remappings=[\n            ('/tf', 'tf'),\n            ('/tf_static', 'tf_static')\n        ]\n    )\n\n    return LaunchDescription([\n        DeclareLaunchArgument(\n            'use_sim_time',\n            default_value='false',\n            description='Use simulation time if true'\n        ),\n        DeclareLaunchArgument(\n            'gui',\n            default_value='true',\n            description='Use GUI for joint state publisher'\n        ),\n        robot_state_publisher,\n        joint_state_publisher_gui,\n        controller_manager\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"launch-configuration-files",children:"Launch Configuration Files"}),"\n",(0,i.jsx)(e.p,{children:"Launch files often use YAML configuration files for robot-specific parameters:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"# controllers.yaml\ncontroller_manager:\n  ros__parameters:\n    update_rate: 100  # Hz\n\n    humanoid_joint_publisher:\n      type: joint_state_broadcaster/JointStateBroadcaster\n\n    humanoid_controller:\n      type: humanoid_controller/HumanoidController\n\nhumanoid_controller:\n  ros__parameters:\n    # Balance control parameters\n    kp_balance: [100.0, 100.0, 100.0]  # x, y, z position gains\n    kd_balance: [10.0, 10.0, 10.0]     # x, y, z velocity gains\n    \n    # Walking gait parameters\n    step_height: 0.1                    # meters\n    step_length: 0.3                    # meters\n    step_duration: 1.0                  # seconds\n"})}),"\n",(0,i.jsx)(e.h2,{id:"complex-launch-scenarios-for-humanoid-robots",children:"Complex Launch Scenarios for Humanoid Robots"}),"\n",(0,i.jsx)(e.h3,{id:"simulation-launch",children:"Simulation Launch"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# launch/simulation.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\nfrom launch.substitutions import PathJoinSubstitution\nfrom launch_ros.substitutions import FindPackageShare\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    # Launch Gazebo simulation\n    gazebo = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('gazebo_ros'),\n                'launch',\n                'gazebo.launch.py'\n            ])\n        ])\n    )\n    \n    # Spawn robot in simulation\n    spawn_entity = Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=[\n            '-topic', 'robot_description',\n            '-entity', 'humanoid_robot'\n        ],\n        output='screen'\n    )\n    \n    # Launch robot control nodes\n    robot_control_launch = IncludeLaunchDescription(\n        PythonLaunchDescriptionSource([\n            PathJoinSubstitution([\n                FindPackageShare('humanoid_control'),\n                'launch',\n                'control.launch.py'\n            ])\n        ])\n    )\n    \n    return LaunchDescription([\n        gazebo,\n        spawn_entity,\n        robot_control_launch\n    ])\n"})}),"\n",(0,i.jsx)(e.h3,{id:"real-robot-launch",children:"Real Robot Launch"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# launch/real_robot.launch.py\nfrom launch import LaunchDescription\nfrom launch.actions import SetEnvironmentVariable\nfrom launch_ros.actions import Node\nimport os\n\ndef generate_launch_description():\n    # Set environment variables for real robot\n    set_robot_ip = SetEnvironmentVariable(\n        name='ROBOT_IP',\n        value=os.environ.get('ROBOT_IP', '192.168.1.10')\n    )\n    \n    # Launch hardware interface\n    hardware_interface = Node(\n        package='humanoid_hardware_interface',\n        executable='hardware_interface_node',\n        name='hardware_interface',\n        parameters=[\n            os.path.join(\n                get_package_share_directory('humanoid_hardware_interface'),\n                'config',\n                'hardware.yaml'\n            )\n        ],\n        remappings=[\n            ('/joint_commands', '/position_controller/commands'),\n            ('/joint_states', '/joint_states')\n        ]\n    )\n    \n    # Launch robot monitoring\n    robot_monitor = Node(\n        package='humanoid_monitoring',\n        executable='robot_monitor',\n        name='robot_monitor',\n        parameters=[\n            {'robot_name': 'humanoid_robot'},\n            {'check_battery': True},\n            {'check_temperature': True}\n        ]\n    )\n    \n    return LaunchDescription([\n        set_robot_ip,\n        hardware_interface,\n        robot_monitor\n    ])\n"})}),"\n",(0,i.jsx)(e.h2,{id:"parameter-management",children:"Parameter Management"}),"\n",(0,i.jsx)(e.p,{children:"For humanoid robots with many configurable parameters, proper parameter management is crucial:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"# config/robot_parameters.yaml\nhumanoid_robot:\n  ros__parameters:\n    # Physical properties\n    mass: 50.0  # kg\n    height: 1.5  # meters\n    com_height: 0.8  # meters from ground\n    \n    # Control parameters\n    control_loop_rate: 100  # Hz\n    max_joint_velocity: 2.0  # rad/s\n    max_joint_torque: 100.0  # Nm\n    \n    # Safety parameters\n    max_tilt_angle: 0.5  # rad, beyond which robot stops\n    emergency_stop_timeout: 1.0  # seconds without control before emergency stop\n"})}),"\n",(0,i.jsx)(e.h2,{id:"launch-file-best-practices",children:"Launch File Best Practices"}),"\n",(0,i.jsx)(e.h3,{id:"organization",children:"Organization"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Separate launch files for different scenarios (simulation vs. real robot)"}),"\n",(0,i.jsx)(e.li,{children:"Use includes to reuse common launch components"}),"\n",(0,i.jsx)(e.li,{children:"Group related nodes in logical sets"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"parameter-handling",children:"Parameter Handling"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Use launch arguments for configurable options"}),"\n",(0,i.jsx)(e.li,{children:"Load robot-specific parameters from YAML files"}),"\n",(0,i.jsx)(e.li,{children:"Validate parameters at startup"}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Implement proper shutdown procedures"}),"\n",(0,i.jsx)(e.li,{children:"Use event handlers for managing node dependencies"}),"\n",(0,i.jsx)(e.li,{children:"Include monitoring and recovery mechanisms"}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"practical-exercise",children:"Practical Exercise"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Create a launch file for a humanoid robot that includes:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Robot state publisher"}),"\n",(0,i.jsx)(e.li,{children:"Joint state broadcaster"}),"\n",(0,i.jsx)(e.li,{children:"A simple walking controller"}),"\n",(0,i.jsx)(e.li,{children:"A basic perception node"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Use the educational AI to help design launch arguments that allow switching between simulation and real robot modes"}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Create a parameter file with realistic values for a humanoid robot's physical and control properties"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"The next section will cover workspace management tools and best practices for maintaining complex humanoid robot software systems."})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>t,x:()=>s});var a=o(6540);const i={},r=a.createContext(i);function t(n){const e=a.useContext(r);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),a.createElement(r.Provider,{value:e},n.children)}}}]);